// Benchmark boilerplate generated by Benchmark

import Benchmark
import OTel
import W3CTraceContext

let benchmarks = {
    Benchmark("OTelTraceIdRatioBasedSampler") { benchmark in

        let sampler = OTelTraceIdRatioBasedSampler(ratio: 0.5)

        let traceIds = benchmark.scaledIterations.map { _ in TraceID.random() }
        
        benchmark.startMeasurement()

        for traceId in traceIds {
            _ = sampler.samplingResult(
                operationName: "some-op",
                kind: .internal,
                traceID: traceId,
                attributes: [:],
                links: [],
                parentContext: .topLevel)
        }

        benchmark.stopMeasurement()
    }
}
